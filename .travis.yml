branches:
  only:
    - master
    - work
    - travis

language: cpp
matrix:
  include:
    - os: linux
      dist: bionic
      sudo: false
      compiler: gcc
    - os: linux
      dist: bionic
      sudo: false
      compiler: clang
    - os: osx
      compiler: clang
    - os: osx
      osx_image: xcode11
      compiler: clang
    - os: windows
script:
    - if [ "$TRAVIS_OS_NAME" == "linux" ]; then ./configure -b maintain && cd build/maintain && make -j2 Experimental; fi
    - if [ "$TRAVIS_OS_NAME" == "osx" ]; then ./configure -b maintain && cd build/maintain && make -j2 Experimental; fi
    - if [ "$TRAVIS_OS_NAME" == "windows" ]; then "`find c\:/Program\ Files\ \(x86\)/ -name vcvarsall.bat 2>/dev/null | grep -v -F "Permission" | grep -F "2017"`" amd64; fi
    - if [ "$TRAVIS_OS_NAME" == "windows" ]; then ./configure -b maintain -f maintain -g "Visual Studio 15 2017 Win64" && cd build/maintain && cmake --build . --config release --target Experimental; fi

